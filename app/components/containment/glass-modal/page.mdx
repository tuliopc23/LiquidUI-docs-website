import { GlassModal } from 'liquidify';

# GlassModal

Full-screen and partial overlay dialogs for focused user interactions with Apple HIG-compliant design and comprehensive accessibility.

## Overview

GlassModal provides sophisticated overlay interfaces for presenting focused content, confirmations, or detailed views. Built with Liquidify's Liquid Glass material system, it offers seamless integration through adaptive blur, intelligent focus management, and smooth transitions.

## Basic Usage

```tsx
import { GlassModal } from 'liquidify';

function BasicModal() {
  const [open, setOpen] = useState(false);

  return (
    <>
      <button onClick={() => setOpen(true)}>Open Modal</button>
      <GlassModal open={open} onClose={() => setOpen(false)}>
        <div className='p-6'>
          <h2 className='text-xl font-semibold mb-4'>Modal Title</h2>
          <p className='mb-6'>
            This is a basic glass modal with content emphasis.
          </p>
          <button onClick={() => setOpen(false)}>Close</button>
        </div>
      </GlassModal>
    </>
  );
}
```

## Interactive Demo

```tsx
<GlassModal open={true} type='dialog' showClose={true} backdrop='blur'>
  <div className='p-8 max-w-md'>
    <h2 className='text-2xl font-bold mb-4'>Welcome to Liquidify</h2>
    <p className='text-gray-600 mb-6'>
      Experience the future of interface design with our Liquid Glass components
      that adapt to your content and environment.
    </p>
    <div className='flex gap-3'>
      <button className='bg-blue-500 text-white px-4 py-2 rounded'>
        Get Started
      </button>
      <button className='border border-gray-300 px-4 py-2 rounded'>
        Learn More
      </button>
    </div>
  </div>
</GlassModal>
```

## Accessibility

![Accessibility Badge](https://img.shields.io/badge/A11y-AA%20Compliant-green)

**WCAG 2.1 AA Compliant** ✅

### Keyboard Navigation

- `Tab` - Navigate to the component
- `Enter` or `Space` - Activate interactive elements
- `Arrow keys` - Navigate within component (when applicable)
- `Escape` - Close modals or dismiss overlays

### Screen Reader Support

- Proper ARIA labels and roles
- Semantic HTML structure
- State changes announced
- Focus management
- Descriptive error messages

### Focus Management

- Visible focus indicators
- Logical focus order
- Focus trapping in modals
- Focus restoration on close

### Color and Contrast

- Minimum 4.5:1 contrast ratio for normal text
- Minimum 3:1 contrast ratio for large text
- Color is not the only way to convey information
- High contrast mode support

### Testing

```tsx
import { expectAccessible } from '../lib/test-utils';

test('GlassModal accessibility', async () => {
  await expectAccessible(<GlassModal>Content</GlassModal>);
});
```

### Accessibility Features

- ✅ Keyboard navigation
- ✅ Screen reader support
- ✅ Focus management
- ✅ Color contrast compliance
- ✅ ARIA labels and roles
- ✅ Semantic HTML
- ✅ Error handling
- ✅ Responsive design

## API Reference

### GlassModal Props

| Prop               | Type                                              | Default    | Description                       |
| ------------------ | ------------------------------------------------- | ---------- | --------------------------------- |
| `open`             | `boolean`                                         | `false`    | Controls modal visibility         |
| `onClose`          | `() => void`                                      | -          | Callback when modal should close  |
| `type`             | `'dialog' \| 'sheet' \| 'fullscreen' \| 'drawer'` | `'dialog'` | Modal presentation style          |
| `size`             | `'xs' \| 'sm' \| 'md' \| 'lg' \| 'xl' \| 'full'`  | `'md'`     | Modal size (for dialog type)      |
| `position`         | `'center' \| 'top' \| 'bottom'`                   | `'center'` | Modal position                    |
| `backdrop`         | `'blur' \| 'dark' \| 'light' \| 'none'`           | `'blur'`   | Backdrop style                    |
| `dismissible`      | `boolean`                                         | `true`     | Allow closing with backdrop click |
| `showClose`        | `boolean`                                         | `false`    | Show close button                 |
| `closeOnEscape`    | `boolean`                                         | `true`     | Close on Escape key               |
| `className`        | `string`                                          | -          | Additional CSS classes            |
| `overlayClassName` | `string`                                          | -          | CSS classes for overlay           |
| `contentClassName` | `string`                                          | -          | CSS classes for content           |

## Modal Types

### Dialog Modal

Standard centered modal for confirmations and forms.

```tsx
<GlassModal type='dialog' size='md' open={open} onClose={onClose}>
  <div className='p-6'>
    <h2>Confirm Action</h2>
    <p>Are you sure you want to delete this item?</p>
    <div className='flex gap-2 mt-4'>
      <button onClick={confirmDelete}>Delete</button>
      <button onClick={onClose}>Cancel</button>
    </div>
  </div>
</GlassModal>
```

### Sheet Modal

Bottom sheet that slides up from the bottom edge.

```tsx
<GlassModal type='sheet' open={open} onClose={onClose}>
  <div className='p-6'>
    <div className='w-12 h-1 bg-gray-300 rounded-full mx-auto mb-4' />
    <h2>Sheet Title</h2>
    <p>This sheet slides up from the bottom.</p>
  </div>
</GlassModal>
```

### Fullscreen Modal

Takes up the entire viewport for immersive content.

```tsx
<GlassModal type='fullscreen' open={open} onClose={onClose}>
  <div className='h-full flex flex-col'>
    <header className='p-4 border-b'>
      <h1>Fullscreen Content</h1>
      <button onClick={onClose}>Close</button>
    </header>
    <main className='flex-1 p-4'>
      <p>Fullscreen modal content goes here.</p>
    </main>
  </div>
</GlassModal>
```

### Drawer Modal

Side panel that slides in from the edge.

```tsx
<GlassModal type='drawer' position='right' open={open} onClose={onClose}>
  <div className='h-full w-80 p-6'>
    <h2>Drawer Content</h2>
    <p>Navigation or settings panel.</p>
  </div>
</GlassModal>
```

## Features

### Backdrop Blur

```tsx
<GlassModal backdrop='blur' open={open}>
  <div>Content with blurred backdrop</div>
</GlassModal>
```

### Custom Sizes

```tsx
// Extra small dialog
<GlassModal type="dialog" size="xs" open={open}>
  <div>Compact content</div>
</GlassModal>

// Large dialog
<GlassModal type="dialog" size="lg" open={open}>
  <div>Expanded content area</div>
</GlassModal>
```

### Close Button

```tsx
<GlassModal showClose={true} open={open} onClose={onClose}>
  <div>Content with built-in close button</div>
</GlassModal>
```

### Non-dismissible

```tsx
<GlassModal dismissible={false} closeOnEscape={false} open={open}>
  <div>
    <p>This modal requires explicit action to close.</p>
    <button onClick={onClose}>Done</button>
  </div>
</GlassModal>
```
