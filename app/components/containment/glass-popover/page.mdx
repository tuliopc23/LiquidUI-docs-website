# GlassPopover

Contextual overlays for supplementary information and actions with smart positioning and Apple HIG-compliant interactions.

## Overview

GlassPopover provides lightweight overlay interfaces for displaying contextual content without blocking the main interface. Built with Liquidify's Liquid Glass material system, it offers intelligent positioning, responsive behavior, and smooth animations.

## Basic Usage

```tsx
import { GlassPopover } from '@liquidify/ui';

function BasicPopover() {
  return (
    <GlassPopover
      trigger={<button>Show Info</button>}
      content={
        <div className='p-4'>
          <h3 className='font-semibold mb-2'>Additional Information</h3>
          <p>This popover provides contextual details.</p>
        </div>
      }
    />
  );
}
```

## Interactive Demo

```tsx
function InteractiveDemo() {
  return (
    <GlassPopover
      trigger={
        <button className='bg-blue-500 text-white px-4 py-2 rounded'>
          Hover for Details
        </button>
      }
      content={
        <div className='p-4 max-w-xs'>
          <h3 className='font-semibold mb-2'>Feature Information</h3>
          <p className='text-sm text-gray-600 mb-3'>
            This feature helps you organize your workflow more efficiently.
          </p>
          <button className='text-blue-500 text-sm'>Learn More →</button>
        </div>
      }
      placement='top'
      showArrow={true}
      triggerOn='hover'
    />
  );
}
```

## API Reference

### GlassPopover Props

| Prop               | Type                                                                                                   | Default    | Description                       |
| ------------------ | ------------------------------------------------------------------------------------------------------ | ---------- | --------------------------------- |
| `trigger`          | `React.ReactNode`                                                                                      | -          | Element that triggers the popover |
| `content`          | `React.ReactNode`                                                                                      | -          | Content to display in popover     |
| `open`             | `boolean`                                                                                              | -          | Controlled open state             |
| `onOpenChange`     | `(open: boolean) => void`                                                                              | -          | Callback for open state changes   |
| `placement`        | `'top' \| 'bottom' \| 'left' \| 'right' \| 'top-start' \| 'top-end' \| 'bottom-start' \| 'bottom-end'` | `'bottom'` | Popover position                  |
| `triggerOn`        | `'click' \| 'hover' \| 'focus' \| 'manual'`                                                            | `'click'`  | How to trigger popover            |
| `showArrow`        | `boolean`                                                                                              | `true`     | Show arrow pointing to trigger    |
| `offset`           | `number`                                                                                               | `8`        | Distance from trigger             |
| `delay`            | `number`                                                                                               | `200`      | Delay before showing (hover)      |
| `closeDelay`       | `number`                                                                                               | `300`      | Delay before hiding (hover)       |
| `className`        | `string`                                                                                               | -          | Additional CSS classes            |
| `contentClassName` | `string`                                                                                               | -          | CSS classes for content           |

## Placement Options

### Basic Positions

```tsx
<GlassPopover placement="top" trigger={<button>Top</button>} content={<div>Content</div>} />
<GlassPopover placement="bottom" trigger={<button>Bottom</button>} content={<div>Content</div>} />
<GlassPopover placement="left" trigger={<button>Left</button>} content={<div>Content</div>} />
<GlassPopover placement="right" trigger={<button>Right</button>} content={<div>Content</div>} />
```

### Aligned Positions

```tsx
<GlassPopover placement="top-start" trigger={<button>Top Start</button>} content={<div>Content</div>} />
<GlassPopover placement="bottom-end" trigger={<button>Bottom End</button>} content={<div>Content</div>} />
```

## Trigger Types

### Click Trigger

```tsx
<GlassPopover
  triggerOn='click'
  trigger={<button>Click Me</button>}
  content={<div>Clicked content</div>}
/>
```

### Hover Trigger

```tsx
<GlassPopover
  triggerOn='hover'
  delay={500}
  closeDelay={200}
  trigger={<button>Hover Me</button>}
  content={<div>Hover content</div>}
/>
```

### Focus Trigger

```tsx
<GlassPopover
  triggerOn='focus'
  trigger={<input placeholder='Focus me' />}
  content={<div>Helper text appears on focus</div>}
/>
```

## Features

### Arrow Indicator

```tsx
<GlassPopover
  showArrow={true}
  trigger={<button>With Arrow</button>}
  content={<div>Content with arrow pointer</div>}
/>
```

### Custom Styling

```tsx
<GlassPopover
  trigger={<button>Styled</button>}
  content={<div>Custom styled content</div>}
  className='custom-popover'
  contentClassName='bg-blue-50 border-blue-200'
/>
```

### Controlled State

```tsx
function ControlledPopover() {
  const [open, setOpen] = useState(false);

  return (
    <GlassPopover
      open={open}
      onOpenChange={setOpen}
      trigger={<button onClick={() => setOpen(!open)}>Toggle</button>}
      content={<div>Controlled content</div>}
    />
  );
}
```

## Common Use Cases

### Tooltip

```tsx
<GlassPopover
  triggerOn='hover'
  showArrow={true}
  placement='top'
  trigger={<button className='underline text-blue-500'>Hover for help</button>}
  content={
    <div className='p-2 text-sm'>
      This action will save your changes permanently.
    </div>
  }
/>
```

### Form Help

```tsx
<GlassPopover
  triggerOn='focus'
  placement='right-start'
  trigger={
    <input
      type='password'
      placeholder='Enter password'
      className='border rounded px-3 py-2'
    />
  }
  content={
    <div className='p-3 max-w-xs'>
      <h4 className='font-medium mb-2'>Password Requirements</h4>
      <ul className='text-sm space-y-1'>
        <li>• At least 8 characters</li>
        <li>• Include uppercase and lowercase</li>
        <li>• Include at least one number</li>
      </ul>
    </div>
  }
/>
```

### Action Menu

```tsx
<GlassPopover
  trigger={<button className='border rounded px-3 py-2'>More Actions ▼</button>}
  content={
    <div className='py-1'>
      <button className='block w-full text-left px-3 py-2 hover:bg-gray-100'>
        Edit Item
      </button>
      <button className='block w-full text-left px-3 py-2 hover:bg-gray-100'>
        Duplicate
      </button>
      <button className='block w-full text-left px-3 py-2 hover:bg-gray-100 text-red-600'>
        Delete
      </button>
    </div>
  }
  placement='bottom-start'
/>
```

## Accessibility

### ARIA Support

- **`aria-describedby`**: Links trigger to popover content
- **`role="tooltip"`**: For informational popovers
- **`role="dialog"`**: For interactive popovers
- **`aria-expanded`**: Indicates popover state

### Keyboard Navigation

| Key               | Action                          |
| ----------------- | ------------------------------- |
| `Escape`          | Close popover                   |
| `Tab`             | Navigate within popover content |
| `Enter` / `Space` | Activate trigger (when focused) |

## Best Practices

### Do's

- **Use for supplementary information**: Not critical to the main task
- **Keep content concise**: Avoid overwhelming the user
- **Position appropriately**: Consider viewport boundaries
- **Provide clear triggers**: Make it obvious how to access content

### Don'ts

- **Don't use for critical information**: Essential content should be always visible
- **Don't make popovers too large**: Use modals for extensive content
- **Don't nest popovers**: Avoid complex hierarchies
- **Don't auto-show without trigger**: Respect user interaction

## Related Components

- [GlassModal](/components/containment/glass-modal) - For larger overlay content
- [GlassDropdown](/components/navigation/glass-dropdown) - For action menus
- [GlassTooltip](/components/presentation/glass-tooltip) - For simple help text

---

_GlassPopover provides contextual information overlay functionality following Apple's Human Interface Guidelines._
