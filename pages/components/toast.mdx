import { GlassToast } from "../../components/PlaceholderComponents";
import { ComponentShowcase } from "../../components/ComponentShowcase";
import { CheckCircle, AlertTriangle, X, Info, AlertCircle } from "lucide-react";

# Toast

A sleek toast notification component with glassmorphism design, providing contextual feedback with smooth animations and automatic dismissal.

## Basic Usage

<ComponentShowcase
  title="Toast Variants"
  description="Different toast types for various notification scenarios"
  code={`// Success Toast
<GlassToast variant="success" title="Success!">
  Your changes have been saved successfully.
</GlassToast>

// Error Toast
<GlassToast variant="error" title="Error">
  Something went wrong. Please try again.
</GlassToast>

// Warning Toast
<GlassToast variant="warning" title="Warning">
  Your session will expire in 5 minutes.
</GlassToast>

// Info Toast
<GlassToast variant="info" title="Info">
  New updates are available for download.
</GlassToast>`}
>
  <div className="space-y-4 w-full max-w-md">
    <div className="glass-card p-4 border-l-4 border-green-500" role="alert" aria-live="polite">
      <div className="flex items-center gap-3">
        <CheckCircle className="w-5 h-5 text-green-400 flex-shrink-0" aria-hidden="true" />
        <div className="flex-1">
          <h4 className="font-medium text-green-400">Success!</h4>
          <p className="text-sm text-muted-foreground">Your changes have been saved successfully.</p>
        </div>
        <button className="w-4 h-4 text-muted-foreground hover:text-foreground transition-colors" aria-label="Close notification">
          <X className="w-4 h-4" aria-hidden="true" />
        </button>
      </div>
    </div>
    
    <div className="glass-card p-4 border-l-4 border-red-500" role="alert" aria-live="assertive">
      <div className="flex items-center gap-3">
        <AlertCircle className="w-5 h-5 text-red-400 flex-shrink-0" aria-hidden="true" />
        <div className="flex-1">
          <h4 className="font-medium text-red-400">Error</h4>
          <p className="text-sm text-muted-foreground">Something went wrong. Please try again.</p>
        </div>
        <button className="w-4 h-4 text-muted-foreground hover:text-foreground transition-colors" aria-label="Close error notification">
          <X className="w-4 h-4" aria-hidden="true" />
        </button>
      </div>
    </div>
    
    <div className="glass-card p-4 border-l-4 border-orange-500" role="alert" aria-live="polite">
      <div className="flex items-center gap-3">
        <AlertTriangle className="w-5 h-5 text-orange-400 flex-shrink-0" aria-hidden="true" />
        <div className="flex-1">
          <h4 className="font-medium text-orange-400">Warning</h4>
          <p className="text-sm text-muted-foreground">Your session will expire in 5 minutes.</p>
        </div>
        <button className="w-4 h-4 text-muted-foreground hover:text-foreground transition-colors" aria-label="Close warning notification">
          <X className="w-4 h-4" aria-hidden="true" />
        </button>
      </div>
    </div>
    
    <div className="glass-card p-4 border-l-4 border-blue-500" role="status" aria-live="polite">
      <div className="flex items-center gap-3">
        <Info className="w-5 h-5 text-blue-400 flex-shrink-0" aria-hidden="true" />
        <div className="flex-1">
          <h4 className="font-medium text-blue-400">Info</h4>
          <p className="text-sm text-muted-foreground">New updates are available for download.</p>
        </div>
        <button className="w-4 h-4 text-muted-foreground hover:text-foreground transition-colors" aria-label="Close info notification">
          <X className="w-4 h-4" aria-hidden="true" />
        </button>
      </div>
    </div>
  </div>
</ComponentShowcase>

## Toast Positioning

<ComponentShowcase
  title="Toast Positions"
  description="Control where toasts appear on screen"
  code={`// Top positions
<GlassToast position="top-left" title="Top Left">
  Toast positioned at top left corner.
</GlassToast>

<GlassToast position="top-center" title="Top Center">
  Toast positioned at top center.
</GlassToast>

<GlassToast position="top-right" title="Top Right">
  Toast positioned at top right corner.
</GlassToast>

// Bottom positions
<GlassToast position="bottom-left" title="Bottom Left">
  Toast positioned at bottom left corner.
</GlassToast>

<GlassToast position="bottom-center" title="Bottom Center">
  Toast positioned at bottom center.
</GlassToast>

<GlassToast position="bottom-right" title="Bottom Right">
  Toast positioned at bottom right corner.
</GlassToast>`}
>
  <div className="relative glass-card p-8 min-h-[300px] border border-dashed border-muted-foreground/20">
    <div className="text-center text-sm text-muted-foreground mb-4">Toast Position Preview</div>
    
    {/* Top positions */}
    <div className="absolute top-4 left-4">
      <div className="glass-effect p-2 rounded text-xs">Top Left</div>
    </div>
    <div className="absolute top-4 left-1/2 transform -translate-x-1/2">
      <div className="glass-effect p-2 rounded text-xs">Top Center</div>
    </div>
    <div className="absolute top-4 right-4">
      <div className="glass-effect p-2 rounded text-xs">Top Right</div>
    </div>
    
    {/* Bottom positions */}
    <div className="absolute bottom-4 left-4">
      <div className="glass-effect p-2 rounded text-xs">Bottom Left</div>
    </div>
    <div className="absolute bottom-4 left-1/2 transform -translate-x-1/2">
      <div className="glass-effect p-2 rounded text-xs">Bottom Center</div>
    </div>
    <div className="absolute bottom-4 right-4">
      <div className="glass-effect p-2 rounded text-xs">Bottom Right</div>
    </div>
  </div>
</ComponentShowcase>

## Auto-dismiss and Actions

<ComponentShowcase
  title="Toast Behavior"
  description="Auto-dismiss timers and action buttons"
  code={`// Auto-dismiss after 5 seconds
<GlassToast 
  variant="success" 
  title="File uploaded"
  duration={5000}
  onDismiss={() => console.log('Toast dismissed')}
>
  Your file has been uploaded successfully.
</GlassToast>

// Persistent toast (no auto-dismiss)
<GlassToast 
  variant="error" 
  title="Connection failed"
  persistent
  action={
    <GlassButton size="sm" onClick={retryConnection}>
      Retry
    </GlassButton>
  }
>
  Failed to connect to server. Check your internet connection.
</GlassToast>

// Toast with action button
<GlassToast 
  variant="info" 
  title="New version available"
  action={
    <GlassButton size="sm" variant="outline">
      Update Now
    </GlassButton>
  }
>
  Version 2.0 is now available with new features.
</GlassToast>`}
>
  <div className="space-y-4 w-full max-w-lg">
    <div className="glass-card p-4 border-l-4 border-green-500">
      <div className="flex items-start gap-3">
        <CheckCircle className="w-5 h-5 text-green-400 flex-shrink-0 mt-0.5" />
        <div className="flex-1">
          <h4 className="font-medium text-green-400">File uploaded</h4>
          <p className="text-sm text-muted-foreground mb-2">Your file has been uploaded successfully.</p>
          <div className="w-full bg-white/10 rounded-full h-1">
            <div className="bg-green-400 h-1 rounded-full w-3/4"></div>
          </div>
          <p className="text-xs text-muted-foreground mt-1">Auto-dismiss in 5s</p>
        </div>
        <X className="w-4 h-4 text-muted-foreground cursor-pointer" />
      </div>
    </div>
    
    <div className="glass-card p-4 border-l-4 border-red-500">
      <div className="flex items-start gap-3">
        <AlertCircle className="w-5 h-5 text-red-400 flex-shrink-0 mt-0.5" />
        <div className="flex-1">
          <h4 className="font-medium text-red-400">Connection failed</h4>
          <p className="text-sm text-muted-foreground mb-3">Failed to connect to server. Check your internet connection.</p>
          <div className="glass-effect rounded px-3 py-1 text-xs cursor-pointer bg-primary/20 inline-block">
            Retry
          </div>
        </div>
        <X className="w-4 h-4 text-muted-foreground cursor-pointer" />
      </div>
    </div>
    
    <div className="glass-card p-4 border-l-4 border-blue-500">
      <div className="flex items-start gap-3">
        <Info className="w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5" />
        <div className="flex-1">
          <h4 className="font-medium text-blue-400">New version available</h4>
          <p className="text-sm text-muted-foreground mb-3">Version 2.0 is now available with new features.</p>
          <div className="glass-effect rounded px-3 py-1 text-xs cursor-pointer border border-white/20 inline-block">
            Update Now
          </div>
        </div>
        <X className="w-4 h-4 text-muted-foreground cursor-pointer" />
      </div>
    </div>
  </div>
</ComponentShowcase>

## Toast Queue Management

<ComponentShowcase
  title="Multiple Toasts"
  description="Managing multiple toast notifications"
  code={`// Toast provider manages the queue
function ToastDemo() {
  const { addToast } = useToast();
  
  const showSuccess = () => {
    addToast({
      variant: 'success',
      title: 'Success!',
      description: 'Operation completed successfully.',
      duration: 4000,
    });
  };
  
  const showError = () => {
    addToast({
      variant: 'error',
      title: 'Error occurred',
      description: 'Something went wrong.',
      duration: 6000,
    });
  };
  
  const showInfo = () => {
    addToast({
      variant: 'info',
      title: 'Information',
      description: 'Here is some useful information.',
    });
  };
  
  return (
    <div className="space-x-2">
      <GlassButton onClick={showSuccess}>Show Success</GlassButton>
      <GlassButton onClick={showError}>Show Error</GlassButton>
      <GlassButton onClick={showInfo}>Show Info</GlassButton>
    </div>
  );
}`}
>
  <div className="space-y-4">
    <div className="flex flex-wrap gap-2">
      <div className="glass-effect rounded px-3 py-2 text-sm cursor-pointer hover:bg-white/10 transition-colors">
        Show Success
      </div>
      <div className="glass-effect rounded px-3 py-2 text-sm cursor-pointer hover:bg-white/10 transition-colors">
        Show Error
      </div>
      <div className="glass-effect rounded px-3 py-2 text-sm cursor-pointer hover:bg-white/10 transition-colors">
        Show Info
      </div>
    </div>
    
    <div className="space-y-2 w-full max-w-md">
      <div className="text-sm text-muted-foreground">Toast Queue Preview:</div>
      <div className="glass-card p-3 border-l-4 border-green-500 opacity-90">
        <div className="flex items-center gap-2">
          <CheckCircle className="w-4 h-4 text-green-400" />
          <span className="text-sm">Success toast</span>
        </div>
      </div>
      <div className="glass-card p-3 border-l-4 border-red-500 opacity-75">
        <div className="flex items-center gap-2">
          <AlertCircle className="w-4 h-4 text-red-400" />
          <span className="text-sm">Error toast</span>
        </div>
      </div>
      <div className="glass-card p-3 border-l-4 border-blue-500 opacity-60">
        <div className="flex items-center gap-2">
          <Info className="w-4 h-4 text-blue-400" />
          <span className="text-sm">Info toast</span>
        </div>
      </div>
    </div>
  </div>
</ComponentShowcase>

## API Reference

### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `variant` | `"success" \| "error" \| "warning" \| "info"` | `"info"` | Visual style variant |
| `title` | `string` | - | Toast title |
| `description` | `string` | - | Toast description/message |
| `duration` | `number` | `4000` | Auto-dismiss duration in milliseconds |
| `persistent` | `boolean` | `false` | Prevent auto-dismiss |
| `position` | `"top-left" \| "top-center" \| "top-right" \| "bottom-left" \| "bottom-center" \| "bottom-right"` | `"bottom-right"` | Screen position |
| `action` | `React.ReactNode` | - | Action button or element |
| `icon` | `React.ReactNode` | - | Custom icon (overrides variant icon) |
| `closable` | `boolean` | `true` | Show close button |
| `className` | `string` | - | Additional CSS classes |
| `onDismiss` | `() => void` | - | Callback when toast is dismissed |
| `onAction` | `() => void` | - | Callback when action is clicked |

### Toast Manager

```tsx
// useToast hook for programmatic control
const { addToast, removeToast, clearAll } = useToast();

// Add toast
addToast({
  variant: 'success',
  title: 'Success',
  description: 'Operation completed',
  duration: 5000,
});

// Remove specific toast
removeToast(toastId);

// Clear all toasts
clearAll();
```

### Accessibility

- **Screen Readers**: Proper ARIA live regions for announcements
- **Keyboard Navigation**: Focusable action buttons with Tab support
- **High Contrast**: Adapts to system high contrast modes
- **Motion**: Respects prefers-reduced-motion settings

## Usage Guidelines

### Best Practices

- Use toasts for temporary, non-critical notifications
- Keep messages concise and actionable
- Choose appropriate variants for context
- Limit the number of simultaneous toasts
- Provide actions for toasts that require user response

### When to Use

- **Success**: Confirm completed actions
- **Error**: Alert users to problems that need attention
- **Warning**: Notify about potential issues
- **Info**: Share helpful information or updates

### When Not to Use

- Critical errors that require immediate attention (use Modal)
- Complex information that needs persistent display
- Primary navigation or core functionality
- Long-form content or detailed instructions

## Examples

### Basic Toast Implementation

```tsx
import { GlassToast } from "glass-ui-tulio";
import { useState } from "react";

function ToastExample() {
  const [showToast, setShowToast] = useState(false);

  return (
    <>
      <GlassButton onClick={() => setShowToast(true)}>
        Show Toast
      </GlassButton>
      
      {showToast && (
        <GlassToast
          variant="success"
          title="Success!"
          description="Your action was completed successfully."
          onDismiss={() => setShowToast(false)}
        />
      )}
    </>
  );
}
```

### Toast with Provider

```tsx
import { ToastProvider, useToast } from "glass-ui-tulio";

function App() {
  return (
    <ToastProvider position="bottom-right" maxToasts={5}>
      <MyComponent />
    </ToastProvider>
  );
}

function MyComponent() {
  const { addToast } = useToast();
  
  const handleSave = async () => {
    try {
      await saveData();
      addToast({
        variant: 'success',
        title: 'Saved!',
        description: 'Your changes have been saved.',
      });
    } catch (error) {
      addToast({
        variant: 'error',
        title: 'Save failed',
        description: error.message,
        persistent: true,
        action: <GlassButton size="sm">Retry</GlassButton>,
      });
    }
  };
  
  return (
    <GlassButton onClick={handleSave}>
      Save Changes
    </GlassButton>
  );
}
```
